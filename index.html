<!doctype html>
<html>
<head>
    <link rel="icon" href="i/icon.png">
    <link rel="manifest" href="manifest.json">
    <script src="j/e/aframe.js"></script>
    <script src="j/e/aframe-bmfont-text-component.min.js"></script>
    <script src="j/rotateAround.js"></script>
    <script src="j/e/aframe-gamepad-controls.min.js"></script>
    <script src="j/e/svrbutton_helper.js"></script>
    <script src="j/e/svrbutton.js"></script>
    <script src="j/e/aframe-physics-system.js"></script>
    <script src="j/pwacman.js"></script>
    <script src="swreg.js"></script>
    <meta name="theme-color" content="#987FFF">
    <title>PWAc-Man</title>
</head>
<body onload="startPwacman()">
    <a-scene physics="gravity:0; debug:false">
        <a-assets>
            <a-asset-item id="ghostv1" src="assets/ghostv2.obj"></a-asset-item>
            <img id="splash" src="i/splashscreen.png" />
            <img id="logo" src="i/logo.png" />
            <img id="l3" src="i/lives3.png" />
            <img id="l2" src="i/lives2.png" />
            <img id="l1" src="i/lives1.png" />
            <img id="l0" src="i/lives0.png" />
            <img id="go" src="i/gameOver.png" />
            <img id="ll" src="i/lostLife.png" />
        </a-assets>
        <a-camera>
            <a-cursor></a-cursor>
            <a-image src="#l3" id="lives" transparent="true" position="-1 1 -3" width=".7" height="0.1"></a-image>
            <a-entity id="gameOver">
                <a-image src="#go" transparent="true" height="1.2" width="3" position="0 0 0"></a-image>
                <a-animation attribute="position" dur="1000" to="0 0 -3" begin="enterGo"></a-animation>
            </a-entity>
            <a-entity id="lostLife">
                <a-image src="#ll" transparent="true" height=".75" width="1" position="0 0 0"></a-image>
                <a-animation attribute="position" dur="1000" to="0 0 -3" fill-"both" begin="lostlifeMax"></a-animation>
                <a-animation attribute="position" dur="1000" from="0 0 -3" to="0 0 0" delay="3000" begin="lostlifeMin"></a-animation>
            </a-entity>
        </a-camera>
        <a-sky color="#3d3d3d"></a-sky>
        <a-entity id="splashScreen">
            <a-image src="#splash" id="spGame" transparent="true" metalness="0.5" height="4" width="2" position="0 1.5 -3.5"></a-image>
            <a-image src="#logo" transparent="true" height="1" width="1.45" position="0 2.5 -3"></a-image>
            <a-svrbutton id="mybutton" position="0 1.2 -2.8" text="play" btntweaks="textoffset:-0.3;textscale:1 1 1" height="0.4" width="1" depth="0.1" onclick="startGame()" ></a-svrbutton>
            <a-animation attribute="position" dur="10000" to="0 100 0" begin="goAway"></a-animation>
        </a-entity>
        
        <a-sphere id="pwacman" color="gold" radius="1" position="0 0 0" rotate-around="autorotate:false;speed:0.3" static-body>
            <a-animation attribute="position" dur="1000" to="0 2 -3" begin="enterGo"></a-animation>
        </a-sphere>

        <a-obj-model id="ghost1" src="#ghostv1" color="#00FCFF" position="0 6 0" rotate-around="selfrotate:true" dynamic-body="linearDamping:1;angularDamping:1;mass:0.1"></a-obj-model>
        <a-obj-model id="ghost2" src="#ghostv1" color="#FF3100" position="0 3 0" rotate-around="selfrotate:true;rotatedirection:false" dynamic-body="linearDamping:1;angularDamping:1;mass:0.1"></a-obj-model>
        <a-obj-model id="ghost3" src="#ghostv1" color="#FFA1CD" position="0 -3 0" rotate-around="selfrotate:true" dynamic-body="linearDamping:1;angularDamping:1;mass:0.1"></a-obj-model>
        <a-obj-model id="ghost4" src="#ghostv1" color="#FFCC00" position="0 -6 0" rotate-around="selfrotate:true;rotatedirection:false" dynamic-body="linearDamping:1;angularDamping:1;mass:0.1"></a-obj-model>
    </a-scene>
</body>
</html>